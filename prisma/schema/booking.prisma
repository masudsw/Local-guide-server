model Booking {
  id          String        @id @default(uuid())
  date        DateTime
  peopleCount Int           @default(1)
  status      BookingStatus @default(PENDING)

  touristId     String
  listingId     String
  paymentStatus PaymentStatus @default(UNPAID)
  payment       Payment?

  tourist User    @relation("TouristBookings", fields: [touristId], references: [id])
  listing Listing @relation(fields: [listingId], references: [id])

  createdAt DateTime @default(now())
}

model Payment {
  id                 String        @id @default(uuid())
  bookingId          String        @unique
  amount             Float
  transactionId      String        @unique
  status             PaymentStatus @default(UNPAID)
  paymentGatewayData Json?
  booking            Booking       @relation(fields: [bookingId], references: [id])
  createdAt          DateTime      @default(now())
  updatedAt          DateTime      @updatedAt
}
