model Booking {
  id        String @id @default(uuid())
  date      DateTime
  startTime   String @default("09:00")
  endTime     String @default("10:00")
  peopleCount Int    @default(1)
  totalPrice  Float  @default(0.0)
  status    BookingStatus @default(PENDING)

  touristId String
  listingId String
  paymentStatus PaymentStatus @default(UNPAID)
  payment   Payment?

  tourist User    @relation("TouristBookings", fields: [touristId], references: [id])
  listing Listing @relation(fields: [listingId], references: [id])

  createdAt DateTime @default(now())
}

model Payment {
  id         String  @id @default(uuid())
  bookingId  String  @unique
  booking    Booking @relation(fields: [bookingId], references: [id])
  amount     Float
  transactionId String @unique
  status     PaymentStatus @default(UNPAID)
  paymentGatewayData Json?
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
} 